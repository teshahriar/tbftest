{% extends "base.html" %}

{% block title %}Notice Board | The Brilliant Foundation{% endblock %}

{% block extra_css %}
<style>
    :root {
        --navy: #1B2631;
        --gold: #D4AC0D;
        --crimson: #922B21;
        --light-gray: #F4F6F7;
    }

    /* Hero Section */
    .notice-hero { 
        background: linear-gradient(135deg, var(--navy) 0%, #2C3E50 100%);
        color: white; 
        padding: 60px 20px; 
        text-align: center; 
        border-radius: 15px;
        margin-bottom: 50px;
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        position: relative;
        overflow: hidden;
    }

    .notice-hero::after {
        content: '';
        position: absolute;
        top: 0; right: 0;
        width: 150px; height: 150px;
        background: rgba(212, 172, 13, 0.1);
        border-radius: 50%;
        transform: translate(50%, -50%);
    }
    
    /* Notice Timeline Style */
    .notice-container {
        max-width: 900px;
        margin: auto;
        position: relative;
        padding-left: 20px;
    }

    .notice-container::before {
        content: '';
        position: absolute;
        left: 0; top: 0;
        width: 4px; height: 100%;
        background: #D5DBDB;
        border-radius: 2px;
    }

    .notice-card { 
        background: white; 
        padding: 30px; 
        border-radius: 12px; 
        margin-bottom: 30px; 
        box-shadow: 0 5px 15px rgba(0,0,0,0.05);
        border: 1px solid #EAECEE;
        position: relative;
        transition: all 0.3s ease;
    }

    .notice-card::before {
        content: '';
        position: absolute;
        left: -26px; top: 35px;
        width: 16px; height: 16px;
        background: white;
        border: 4px solid var(--crimson);
        border-radius: 50%;
        z-index: 2;
    }
    
    .notice-card:hover { 
        transform: translateX(10px); 
        border-color: var(--gold);
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
    }
    
    /* Category Badges */
    .badge { 
        display: inline-block; 
        padding: 6px 16px; 
        border-radius: 4px; 
        font-size: 11px; 
        font-weight: 700; 
        text-transform: uppercase;
        letter-spacing: 1px;
        margin-bottom: 15px;
    }

    .badge-admission { background: #E8F8F5; color: #1ABC9C; border: 1px solid #1ABC9C; }
    .badge-result { background: #FEF9E7; color: #F1C40F; border: 1px solid #F1C40F; }
    .badge-urgent { background: #FDEDEC; color: #E74C3C; border: 1px solid #E74C3C; }
    .badge-general { background: #EBF5FB; color: #3498DB; border: 1px solid #3498DB; }
    
    .notice-date { 
        color: #7F8C8D; 
        font-size: 0.85rem; 
        font-weight: 600;
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 5px;
    }

    .notice-title {
        color: var(--navy);
        font-size: 1.4rem;
        margin: 10px 0;
        font-weight: 700;
    }

    .notice-content { 
        color: #566573; 
        line-height: 1.8; 
        font-size: 1rem;
        margin-top: 15px;
        white-space: pre-line; /* preserves line breaks from database */
    }

    .download-link {
        display: inline-flex;
        align-items: center;
        margin-top: 20px;
        color: var(--crimson);
        text-decoration: none;
        font-weight: bold;
        font-size: 0.9rem;
        transition: 0.2s;
    }

    .download-link:hover { text-decoration: underline; color: var(--navy); }

    /* Empty State */
    .empty-state {
        text-align: center;
        padding: 80px 20px;
        background: white;
        border-radius: 12px;
        color: #BDC3C7;
    }

    @media (max-width: 600px) {
        .notice-hero { padding: 40px 15px; }
        .notice-hero h1 { font-size: 1.8rem; }
        .notice-card { padding: 20px; }
    }
</style>
{% endblock %}

{% block content %}
<div class="notice-hero">
    <h1 style="margin: 0;">Official Notice Board</h1>
    <p style="opacity: 0.8; margin-top: 10px; font-weight: 300;">Stay informed with authentic updates from The Brilliants Foundation, Bogura</p>
</div>

<div class="notice-container">
    {% if notices %}
        {% for notice in notices %}
        <div class="notice-card">
            <div class="notice-date">
                <span>ðŸ“…</span> {{ notice.date }}
            </div>
            
            <span class="badge 
                {% if 'Admission' in notice.category %}badge-admission
                {% elif 'Result' in notice.category %}badge-result
                {% elif 'Urgent' in notice.category %}badge-urgent
                {% else %}badge-general{% endif %}">
                {{ notice.category }}
            </span>

            <h3 class="notice-title">{{ notice.title }}</h3>
            
            <div class="notice-content">
                {{ notice.content }}
            </div>

            {% if notice.file_path %}
            <a href="{{ url_for('static', filename='notices/' + notice.file_path) }}" class="download-link" target="_blank">
                ðŸ“„ Download PDF Attachment
            </a>
            {% endif %}
        </div>
        {% endfor %}
    {% else %}
        <div class="empty-state">
            <div style="font-size: 50px; margin-bottom: 20px;">ðŸ“¢</div>
            <h3>No Notices Published Yet</h3>
            <p>Please check back later for updates regarding scholarship and exams.</p>
        </div>
    {% endif %}
</div>
{% endblock %}