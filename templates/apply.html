{% extends "base.html" %}
{% block content %}
<style>
    :root { --navy: #1B2631; --paper-white: #FFFFFF; --accent-crimson: #922B21; --input-border: #ABB2B9; }
    body { background-color: #F4F6F7; font-family: 'Segoe UI', sans-serif; }
    
    .form-container { max-width: 1000px; margin: 20px auto; background: white; border-radius: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); overflow: hidden; }
    .form-banner { background: var(--navy); color: white; padding: 25px; text-align: center; border-bottom: 4px solid var(--accent-crimson); }
    .form-content { padding: 30px; }

    /* মূল গ্রিড লেআউট - ৩টি আইটেম থাকলেও যেন সুন্দর দেখায় */
    .grid-row { 
        display: grid; 
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
        gap: 20px; 
        margin-bottom: 15px; 
        align-items: start;
    }

    .field-box { display: flex; border: 1px solid var(--input-border); min-height: 45px; background: #fff; }
    .field-box label { 
        background: var(--navy); color: #fff; padding: 0 12px; min-width: 130px; 
        display: flex; align-items: center; font-size: 11px; font-weight: 600; text-transform: uppercase; 
    }
    .field-box input, .field-box select { flex: 1; border: none; padding: 10px; outline: none; font-size: 14px; width: 100%; }

    .section-title { background: #EBEDEF; padding: 12px; font-weight: 700; border-left: 5px solid var(--accent-crimson); margin: 30px 0 15px; }
    
    /* এনিমেশন এবং হাইড করার জন্য */
    #groupSection { display: none; }

    .btn-submit { background: var(--accent-crimson); color: white; padding: 15px 50px; border: none; font-weight: 700; cursor: pointer; width: 100%; text-transform: uppercase; margin-top: 30px; transition: 0.3s; }
    .btn-submit:hover { background: var(--navy); }

    @media (max-width: 600px) {
        .field-box { flex-direction: column; }
        .field-box label { min-width: 100%; padding: 8px 12px; }
    }
</style>

<div class="form-container">
    <div class="form-banner">
        <h2>Scholarship Registration Form - 2026</h2>
        <p>The Brilliants Foundation, Bogura</p>
    </div>

    <form action="{{ url_for('apply') }}" method="POST" enctype="multipart/form-data" class="form-content">
        
        <div class="grid-row">
            <div class="field-box">
                <label>Academic Class</label>
                <select name="student_class" id="classSelector" onchange="toggleGroup()" required>
                    <option value="" disabled selected>Select Class</option>
                    {% for n in range(3, 11) %}
                        <option value="{{ n }}">Class {{ n }}</option>
                    {% endfor %}
                </select>
            </div>

            <div class="field-box" id="groupSection">
                <label>Group/Category</label>
                <select name="category" id="categoryInput">
                    <option value="General">General</option>
                    <option value="Science">Science</option>
                    <option value="Humanities">Humanities</option>
                    <option value="Commerce">Commerce</option>
                </select>
            </div>

            <div class="field-box">
                <label>Exam Center</label>
                <select name="center_code" required>
                    <option value="" disabled selected>Select Center</option>
                    {% for c in centers %}
                        <option value="{{ c.center_code }}">{{ c.center_code }} - {{ c.center_name }}</option>
                    {% endfor %}
                </select>
            </div>
        </div>

        <div class="section-title">Personal Information</div>
        <div class="grid-row">
            <div class="field-box"><label>Name (English)</label><input type="text" name="name_en" required></div>
            <div class="field-box"><label>নাম (বাংলা)</label><input type="text" name="name_bn"></div>
        </div>

        <div class="grid-row">
            <div class="field-box"><label>Father's Name</label><input type="text" name="father_en" required></div>
            <div class="field-box"><label>Mother's Name</label><input type="text" name="mother_bn" required></div>
        </div>

        <div class="grid-row">
            <div class="field-box"><label>Mobile No</label><input type="tel" name="mobile" placeholder="017XXXXXXXX" required></div>
            <div class="field-box"><label>Date of Birth</label><input type="date" name="dob" required></div>
        </div>

        <div class="section-title">Institutional Information</div>
        <div class="field-box" style="width: 100%; margin-bottom: 20px;">
            <label>Institution</label>
            <input type="text" name="institute_en" placeholder="School/Madrasah Name" required>
        </div>

        <div class="grid-row">
            <div>
                <div class="section-title">Present Address</div>
                <div class="field-box"><label>Village</label><input type="text" name="pre_v" required></div>
                <div class="field-box"><label>Upazila</label><input type="text" name="pre_t" required></div>
                <div class="field-box"><label>District</label><input type="text" name="pre_d" required></div>
            </div>
            <div>
                <div class="section-title">Permanent Address</div>
                <div class="field-box"><label>Village</label><input type="text" name="per_v" required></div>
                <div class="field-box"><label>Upazila</label><input type="text" name="per_t" required></div>
                <div class="field-box"><label>District</label><input type="text" name="per_d" required></div>
            </div>
        </div>

        <div class="section-title">Security & Media</div>
        <div class="grid-row">
            <div class="field-box"><label>Password</label><input type="password" name="password" required></div>
            <div class="field-box"><label>Confirm</label><input type="password" name="confirm_password" required></div>
        </div>

        <div class="grid-row" style="margin-top: 20px;">
            <div style="text-align: center; border: 2px dashed #ccc; padding: 15px; background: #fafafa;">
                <label style="font-weight: bold; font-size: 12px;">PHOTO</label><br>
                <input type="file" name="photo" accept="image/*" required>
            </div>
            <div style="text-align: center; border: 2px dashed #ccc; padding: 15px; background: #fafafa;">
                <label style="font-weight: bold; font-size: 12px;">SIGNATURE</label><br>
                <input type="file" name="signature" accept="image/*" required>
            </div>
        </div>

        <button type="submit" class="btn-submit">Submit Application</button>
    </form>
</div>

<script>
    function toggleGroup() {
        const classSelect = document.getElementById('classSelector');
        const groupSection = document.getElementById('groupSection');
        
        // যদি ক্লাস ৯ বা ১০ হয় তবে গ্রুপ দেখাবে
        if (classSelect.value === "9" || classSelect.value === "10") {
            groupSection.style.display = "flex";
        } else {
            groupSection.style.display = "none";
        }
    }
</script>
{% endblock %}